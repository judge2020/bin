#!/bin/sh

set -e

if [ -z "$GITHUB_ACTOR" ]; then
  echo "\$GITHUB_ACTOR" not found
  exit 1
fi

for username in "$@"
do
    if [ "$username" = "$GITHUB_ACTOR" ]; then
        SUCCESS=true
    fi
done

if [ "$SUCCESS" != true ]; then
  echo "user/application which initiated the action was \"$GITHUB_ACTOR\", not one of \"$@\""
  exit 78
fi
